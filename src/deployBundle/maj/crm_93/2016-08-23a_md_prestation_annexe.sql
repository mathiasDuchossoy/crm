CREATE TABLE famille_prestation_annexe (id INT UNSIGNED AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE famille_prestation_annexe_traduction (id INT UNSIGNED AUTO_INCREMENT NOT NULL, famille_prestation_annexe_id INT UNSIGNED DEFAULT NULL, langue_id INT UNSIGNED DEFAULT NULL, libelle VARCHAR(255) NOT NULL, INDEX IDX_59030F785D1D40E4 (famille_prestation_annexe_id), INDEX IDX_59030F782AADBACD (langue_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prestation_annexe (id INT UNSIGNED AUTO_INCREMENT NOT NULL, prestation_annexe_unifie_id INT UNSIGNED DEFAULT NULL, site_id INT UNSIGNED DEFAULT NULL, famille_prestation_annexe_id INT UNSIGNED DEFAULT NULL, actif TINYINT(1) DEFAULT '1' NOT NULL, type INT NOT NULL, INDEX IDX_81CE635F7925BE19 (prestation_annexe_unifie_id), INDEX IDX_81CE635FF6BD1646 (site_id), INDEX IDX_81CE635F5D1D40E4 (famille_prestation_annexe_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prestation_annexes_sous_famille_prestation_annexes (prestation_annexe_id INT UNSIGNED NOT NULL, sous_famille_prestation_annexe_id INT UNSIGNED NOT NULL, INDEX IDX_A949BBDC33AD7BEF (prestation_annexe_id), INDEX IDX_A949BBDC3AB7F643 (sous_famille_prestation_annexe_id), PRIMARY KEY(prestation_annexe_id, sous_famille_prestation_annexe_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prestation_annexe_traduction (id INT UNSIGNED AUTO_INCREMENT NOT NULL, prestation_annexe_id INT UNSIGNED DEFAULT NULL, langue_id INT UNSIGNED DEFAULT NULL, libelle VARCHAR(255) NOT NULL, INDEX IDX_92C538DF33AD7BEF (prestation_annexe_id), INDEX IDX_92C538DF2AADBACD (langue_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prestation_annexe_unifie (id INT UNSIGNED AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE sous_famille_prestation_annexe (id INT UNSIGNED AUTO_INCREMENT NOT NULL, famille_prestation_annexe_id INT UNSIGNED DEFAULT NULL, INDEX IDX_F81CF9D05D1D40E4 (famille_prestation_annexe_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE sous_famille_prestation_annexe_traduction (id INT UNSIGNED AUTO_INCREMENT NOT NULL, sous_famille_prestation_annexe_id INT UNSIGNED DEFAULT NULL, langue_id INT UNSIGNED DEFAULT NULL, libelle VARCHAR(255) NOT NULL, INDEX IDX_29BB02A23AB7F643 (sous_famille_prestation_annexe_id), INDEX IDX_29BB02A22AADBACD (langue_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE famille_prestation_annexe_traduction ADD CONSTRAINT FK_59030F785D1D40E4 FOREIGN KEY (famille_prestation_annexe_id) REFERENCES famille_prestation_annexe (id);
ALTER TABLE famille_prestation_annexe_traduction ADD CONSTRAINT FK_59030F782AADBACD FOREIGN KEY (langue_id) REFERENCES langue (id);
ALTER TABLE prestation_annexe ADD CONSTRAINT FK_81CE635F7925BE19 FOREIGN KEY (prestation_annexe_unifie_id) REFERENCES prestation_annexe_unifie (id);
ALTER TABLE prestation_annexe ADD CONSTRAINT FK_81CE635FF6BD1646 FOREIGN KEY (site_id) REFERENCES site (id);
ALTER TABLE prestation_annexe ADD CONSTRAINT FK_81CE635F5D1D40E4 FOREIGN KEY (famille_prestation_annexe_id) REFERENCES famille_prestation_annexe (id);
ALTER TABLE prestation_annexes_sous_famille_prestation_annexes ADD CONSTRAINT FK_A949BBDC33AD7BEF FOREIGN KEY (prestation_annexe_id) REFERENCES prestation_annexe (id);
ALTER TABLE prestation_annexes_sous_famille_prestation_annexes ADD CONSTRAINT FK_A949BBDC3AB7F643 FOREIGN KEY (sous_famille_prestation_annexe_id) REFERENCES sous_famille_prestation_annexe (id);
ALTER TABLE prestation_annexe_traduction ADD CONSTRAINT FK_92C538DF33AD7BEF FOREIGN KEY (prestation_annexe_id) REFERENCES prestation_annexe (id);
ALTER TABLE prestation_annexe_traduction ADD CONSTRAINT FK_92C538DF2AADBACD FOREIGN KEY (langue_id) REFERENCES langue (id);
CREATE TABLE prestation_annexe_sous_famille_prestation_annexe (prestation_annexe_id INT UNSIGNED NOT NULL, sous_famille_prestation_annexe_id INT UNSIGNED NOT NULL, INDEX IDX_538CE55F33AD7BEF (prestation_annexe_id), INDEX IDX_538CE55F3AB7F643 (sous_famille_prestation_annexe_id), PRIMARY KEY(prestation_annexe_id, sous_famille_prestation_annexe_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE prestation_annexe_sous_famille_prestation_annexe ADD CONSTRAINT FK_538CE55F33AD7BEF FOREIGN KEY (prestation_annexe_id) REFERENCES prestation_annexe (id) ON DELETE CASCADE;
ALTER TABLE prestation_annexe_sous_famille_prestation_annexe ADD CONSTRAINT FK_538CE55F3AB7F643 FOREIGN KEY (sous_famille_prestation_annexe_id) REFERENCES sous_famille_prestation_annexe (id) ON DELETE CASCADE;

CREATE TABLE fournisseur_famille_prestation_annexe (fournisseur_id INT UNSIGNED NOT NULL, famille_prestation_annexe_id INT UNSIGNED NOT NULL, INDEX IDX_F604E4E2670C757F (fournisseur_id), INDEX IDX_F604E4E25D1D40E4 (famille_prestation_annexe_id), PRIMARY KEY(fournisseur_id, famille_prestation_annexe_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fournisseur_prestation_annexe (fournisseur_id INT UNSIGNED NOT NULL, prestation_annexe_id INT UNSIGNED NOT NULL, INDEX IDX_9AB97BB3670C757F (fournisseur_id), INDEX IDX_9AB97BB333AD7BEF (prestation_annexe_id), PRIMARY KEY(fournisseur_id, prestation_annexe_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE fournisseur_famille_prestation_annexe ADD CONSTRAINT FK_F604E4E2670C757F FOREIGN KEY (fournisseur_id) REFERENCES fournisseur (id) ON DELETE CASCADE;
ALTER TABLE fournisseur_famille_prestation_annexe ADD CONSTRAINT FK_F604E4E25D1D40E4 FOREIGN KEY (famille_prestation_annexe_id) REFERENCES famille_prestation_annexe (id) ON DELETE CASCADE;
ALTER TABLE fournisseur_prestation_annexe ADD CONSTRAINT FK_9AB97BB3670C757F FOREIGN KEY (fournisseur_id) REFERENCES fournisseur (id) ON DELETE CASCADE;
ALTER TABLE fournisseur_prestation_annexe ADD CONSTRAINT FK_9AB97BB333AD7BEF FOREIGN KEY (prestation_annexe_id) REFERENCES prestation_annexe (id) ON DELETE CASCADE;
