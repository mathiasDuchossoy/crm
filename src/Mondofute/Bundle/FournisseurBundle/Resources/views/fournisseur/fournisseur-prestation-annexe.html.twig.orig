{% if formAjax is defined %}
    {% form_theme form 'bootstrap_3_horizontal_layout.html.twig' %}

    {#{% javascripts#}
    {#'js/jquery.min.js'#}
    {#'js/bootstrap.js'#}
    {#'js/bootstrap-datepicker.js' %}#}
    {#<script src="{{ asset_url }}"></script>#}
    {#{% endjavascripts %}#}
{% endif %}
    {#{{ dump(form.prestationAnnexes) }}#}
{% for prestationAnnexe in form.prestationAnnexes %}
    <div id="{{ prestationAnnexe.vars.id }}">
        {{ form_row(prestationAnnexe.type) }}

        <div>
            {{ form_label(prestationAnnexe.capacite) }}
            <button type="button" class="btn btn-default"
                    onclick="displayCapaciteSejour('{{ prestationAnnexe.capacite.vars.id }}');"
            >
                <span id="{{ prestationAnnexe.capacite.vars.id }}_edit" class="glyphicon glyphicon-edit"
                        {% if prestationAnnexe.capacite.vars.value is not null %}
                            style="display: none"
                        {% endif %}
                      aria-hidden="true"></span>
                <span id="{{ prestationAnnexe.capacite.vars.id }}_remove" class="glyphicon glyphicon-remove"
                        {% if prestationAnnexe.capacite.vars.value is null %}
                            style="display: none"
                        {% endif %}
                      aria-hidden="true"></span>

            </button>
            {% if prestationAnnexe.capacite.vars.value is null %}
                {{ form_widget(prestationAnnexe.capacite , {'attr' : { 'style' : 'display:none'}}) }}
            {% else %}
                {{ form_widget(prestationAnnexe.capacite ) }}
            {% endif %}
        </div>
        <div>
            {{ form_label(prestationAnnexe.dureeSejour) }}
            <button type="button" class="btn btn-default"
                    onclick="displayCapaciteSejour('{{ prestationAnnexe.dureeSejour.vars.id }}');"
            >
                <span id="{{ prestationAnnexe.dureeSejour.vars.id }}_edit" class="glyphicon glyphicon-edit"
                        {% if prestationAnnexe.dureeSejour.vars.value is not null %}
                            style="display: none"
                        {% endif %}
                      aria-hidden="true"></span>
                <span id="{{ prestationAnnexe.dureeSejour.vars.id }}_remove" class="glyphicon glyphicon-remove"
                        {% if prestationAnnexe.dureeSejour.vars.value is null %}
                            style="display: none"
                        {% endif %}
                      aria-hidden="true"></span>

            </button>
            {% if prestationAnnexe.dureeSejour.vars.value is null %}
                {{ form_widget(prestationAnnexe.dureeSejour , {'attr' : { 'style' : 'display:none'}}) }}
            {% else %}
                {{ form_widget(prestationAnnexe.dureeSejour ) }}
            {% endif %}
            {{ form_row(prestationAnnexe.prestationAnnexe) }}
        </div>
        <div>
            {% include('@MondofuteFournisseur/fournisseur/template-traduction-fournisseur-prestation-annexe.html.twig') with {'traductions': prestationAnnexe.traductions, 'langues': langues, 'name': prestationAnnexe.vars.id, 'entity': 'fournisseur_prestation_annexe'} %}
        </div>
        <h3>Tarifs</h3>
        <ul class="tarifs{{ prestationAnnexe.vars.value.prestationAnnexe.id }}" data-prototype="
            {% filter escape %}
                {% include ('@MondofuteFournisseur/fournisseur/template-tarif.html.twig') with { 'tarif' : prestationAnnexe.tarifs.vars.prototype |e('html_attr') , 'index' : prestationAnnexe.vars.value.prestationAnnexe.id , 'name' : '__name__'} %}
            {% endfilter %}
        ">
            {% for key, tarif in prestationAnnexe.tarifs %}
                <li class="li_tarif">
                    {% include ('@MondofuteFournisseur/fournisseur/template-tarif.html.twig') with { 'index' : prestationAnnexe.vars.value.prestationAnnexe.id , 'name' : key} %}
                </li>
            {% endfor %}
        </ul>
    </div>
    {#{{ dump(prestationAnnexe) }}#}
    <script type="text/javascript">

var collectionTarif = function(){
    $collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }} = $('ul.tarifs{{ prestationAnnexe.vars.value.prestationAnnexe.id }}');
    $collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }}.find('.li_tarif').each(function() {
        addTagFormDeleteLink($(this));
    });
    $collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }}.append($newLinkLi{{ prestationAnnexe.vars.value.prestationAnnexe.id }});
    $collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }}.data('index', $collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }}.find('.li_tarif').length);
    $addTagLink{{ prestationAnnexe.vars.value.prestationAnnexe.id }}.on('click', function(e) {
        e.preventDefault();
        addTagForm($collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }}, $newLinkLi{{ prestationAnnexe.vars.value.prestationAnnexe.id }} , '__name__');
    });
}
if (window.jQuery){
<<<<<<< 9effa4109ade3ae11db82ca6e3af328cbb3f3e37

    var $collectionHolder{{ prestationAnnexe.vars.value.prestationAnnexe.id }};
    var $addTagLink{{ prestationAnnexe.vars.value.prestationAnnexe.id }} = $('<a href="#" class="add_tarif_link">Ajouter</a>');
    var $newLinkLi{{ prestationAnnexe.vars.value.prestationAnnexe.id }} = $('<li></li>').append($addTagLink{{ prestationAnnexe.vars.value.prestationAnnexe.id }});
    collectionTarif();
||||||| merged common ancestors
    test();
}else{
    window.onload = test;
=======
    test();
>>>>>>> avancement sur les collection de la fiche des fournisseur/fournisseur-prestation-annexe
}
//else{
//    window.onload = test;
//}
    </script>
{% endfor %}
